---
timestamp: 'Thu Oct 23 2025 04:10:31 GMT-0400 (Eastern Daylight Time)'
parent: '[[..\20251023_041031.37b5f01a.md]]'
content_id: d7d346f733f855659ce93c7b63199440cd33504dc2fc430ac5fe586c8d3f9f04
---

# Modified Concept Specification

**concept** TextSettings \[User, Document] // Removed 'Font' from type parameters

**purpose** allow users to customize and set different text/display settings for each of their documents

**principle** When setting up an account, users can create default text display preferences for their account. When opening a new document, users will have their default display settings loaded in. Users can also change their text settings for each documents, which change how the document is displayed and be remembered between sessions.

**state**\
a set of TextSettings with:

* a font String // Changed from Font to String
* a fontSize Number
* a lineHeight Number

a set of Users with:

* a default TextSettings

a set of Documents with:

* a current TextSettings

**actions**

createSettings(font: String, fontSize: Number, lineHeight: Number, locale: User | Document): (settings: TextSettings)

* **requires**
  * there is not already a TextSettings associated with the provided `locale` (either a User's default or a Document's current settings).
  * `font` is a non-empty string. (Validation for font existence/validity is assumed to be handled externally, as `TextSettings` itself doesn't manage font entities).
* **effects**
  * creates a new `TextSettings` document `s` with the given `font`, `fontSize`, and `lineHeight`.
  * If `locale` is a `User`, sets that user's `defaultTextSettings` to `s`.
  * If `locale` is a `Document`, sets that document's `currentTextSettings` to `s`.
  * Returns the ID of the newly created `TextSettings` document.

editSettings(textSettings: TextSettings, font: String, fontSize: Number, lineHeight: Number): (settings: TextSettings)

* **requires**
  * `textSettings` exists.
  * `font` is a non-empty string.
* **effects**
  * changes the `TextSettings` document identified by `textSettings` to have the new `font`, `fontSize`, and `lineHeight`.
  * Returns the ID of the updated `TextSettings` document.

**queries**

\_getTextSettingsProperties (settingsId: TextSettings): (font: String, fontSize: Number, lineHeight: Number)

* **requires** `settingsId` exists
* **effects** returns the font, fontSize, and lineHeight of the specified TextSettings.

\_getDefaultTextSettingsIdForUser (user: User): (settings: TextSettings)

* **requires** `user` exists and has default TextSettings
* **effects** returns the ID of the default TextSettings for the specified user.

\_getCurrentTextSettingsIdForDocument (document: Document): (settings: TextSettings)

* **requires** `document` exists and has current TextSettings
* **effects** returns the ID of the current TextSettings for the specified document.

***
