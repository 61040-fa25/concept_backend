---
timestamp: 'Mon Oct 20 2025 19:25:22 GMT-0400 (Eastern Daylight Time)'
parent: '[[..\20251020_192522.ee158891.md]]'
content_id: 37b1b9d5b8626848cfddb29deb5bf45874214cfe3aa7e0bb26d1b0e7945bdc79
---

# dayplanner.spec

\<concept\_spec>
concept DayPlanner

purpose
help organize activities for a single day

principle
activities are added one at a time, each with a title and duration;
activities are then assigned to time slots;
you can then use an LLM to assign any remaining unassigned activities
and view the resulting schedule

state
a set of Activity with
a title String
a duration Number // in half-hour units, so 3 is 90 mins
an optional startTime Number // in half-hour slots from midnight, so 14 is 7:00am

```
a set of Assignment with
    an Activity
    an startTime Number

invariants
    every assignment's activity is in the activity set
    there is at most one assignment per activity
    duration and startTime are between 0 and 47
```

actions\
addActivity(title: String, duration: Number): Activity
requires title is non-empty, duration is between 0 and 47
effect adds fresh activity with title and duration and returns it
note duration is measured in half hour increments, so 3 is 90 mins

```
removeActivity(activity: Activity)
    requires activity exists
    effect removes activity

assignActivity(activity: Activity, startTime: Number)
    requires activity exists and startTime is between 0 and 47
    effect adds fresh assignment for activity and startTime

unassignActivity(activity: Activity)
    requires assignment for activity exists
    effect removes assignment for activity

async assignActivities(llm: GeminiLLM)
    effect uses llm to assign all unassigned activities    
```

notes
This is a very rudimentary concept to demonstrate how to use an LLM.

\</concept\_spec>

**concept** FocusStats

**purpose** track and aggregate users' reading statistics

**principle** When users read a document, the system automatically tracks the times and lengths of their reading sessions. Users can see statistics on their reading behavior

**state**\
a set of FocusSessions with:

* a user User
* a document Document
* a startTime Datetime
* an optional endTime Datetime

a set of FocusStats with:

* a set of FocusSessions
* a user User

**actions**\
initUser(user: User): (focusStats: FocusStats)

* **requires** user exists and does not have a focusStats
* **effects** creates a focusStats with an empty set of FocusSessions and user

startSession(user: User, document: Document, library: Library): (focusSession: FocusSession)

* **requires** user has document in their library and user has a focusStats
* **effects** creates a new focusSession with user, document, startTime = current time, and None endTime

endSession(focusSession: FocusSession): (focusSession: FocusSession)

* **requires** focusSession exists and has endTime of None
* **effects** sets focusSession endTime to current time, adds focusSession to the user's FocusStats, returns focusSession

removeSession(focusSession: FocusSession)

* **effects** removes focusSession from the set of FocusSessions and from the user's FocusStats' set of FocusSessions

viewStats(user: User): (focusStats: FocusStats)

* **requires** user is associated with a focusStats object
