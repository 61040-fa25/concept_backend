---
timestamp: 'Thu Oct 16 2025 09:53:10 GMT-0400 (Eastern Daylight Time)'
parent: '[[..\20251016_095310.3a9e2088.md]]'
content_id: 858d33cfd8df12a23e69b93de0dfb2445e30a4fe063c8dbad2ac92af6be22424
---

# ProgressTracking \[TripCostEstimation, User]

* **purpose** create and track savings plans for discretionary vacation goals
* **principle** a plan breaks a tripâ€™s cost into manageable contributions, the user sets a payment period and the amount to be paid every period. The user can also change those details for some trip.
* **state**
  * a set of **Users** with
    * a set of **Plans**
  * a set of **Plans** with
    * a `trip` **TripCostEstimation**
    * a `paymentPeriod` **Number**
    * a `amountPerPeriod` **Number**
    * a `goalAmount` **Number**
    * a `currentAmount` **Number**
    * a `goalReachedFlag` **Boolean**
* **actions**
  * `createPlan (user: User, trip: TripCostEstimation, paymentPeriod: Number, amountPerPeriod: Number, goalAmount: Number): (plan: Plan)`
    * **requires** amountPerPeriod is a >= 0 amount that the user selects to pay every paymentPeriod month, and goalAmount is >= 0
    * **effect** makes a new plan linked to `trip` and `user`. Sets `currentAmount` to `0`. Sets `goalReachedFlag` to `false`
  * `addAmount (user: User, plan: Plan, amount: Number)`
    * **requires** plan exists and belongs to user
    * **effect** increases `currentAmount` of plan by `amount` and then calls `updateGoalStatus(user, plan)`.
  * `removeAmount (user: User, plan: Plan, amount: Number)`
    * **requires** plan exists and belongs to user and amount less than or equal to currentAmount associated with plan
    * **effect** decreases `currentAmount` by `amount` and then calls `updateGoalStatus(user, plan)`.
  * `deletePlan (user: User, plan: Plan)`
    * **requires** `plan` exists and belongs to user
    * **effect** removes plan
  * `modifyPlan (user: User, plan: Plan, newPaymentPeriod: Number, newAmountPerPeriod: Number)`
    * **requires** plan exists and belongs to user
    * **effect** updates savings schedule associated with plan by changing the `paymentPeriod` to `newPaymentPeriod` and `amountPerPeriod` to `newAmountPerPeriod`.
  * `updateGoalStatus (user: User, plan: Plan)`
    * **requires** `plan` exists and belongs to `user`.
    * **effect**
      * If `plan.currentAmount >= plan.goalAmount`, sets `plan.goalReachedFlag` to `true`.
      * Otherwise (`plan.currentAmount < plan.goalAmount`), sets `plan.goalReachedFlag` to `false`.
  * `_getPlans (): (plans: Array<Plan ID>)`
    * **effect** returns an array of all existing Plan IDs.
